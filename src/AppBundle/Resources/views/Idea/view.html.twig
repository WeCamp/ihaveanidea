{% extends 'base.html.twig' %}

{% block body %}
    <a href="{{ path('idea_list') }}">Back to list</a>
<hr />

<h1>Idea: {{ idea.title }}</h1>
<h3>by {{ idea.user.username }} at {{ idea.createdAt|date('Y-m-d') }}</h3>
<strong>Description:</strong>
<pre>{{ idea.description }}</pre>
<hr />
    {% if is_granted('ROLE_USER') %}
    <form method="post" action="{{ path('idea_comment', {'id': idea.id}) }}">
        <textarea name="comment"></textarea>
        <br />
        <input type="checkbox" name="private" /> Private comment
        <br />
        <input type="submit" value="Provide feedback" />
    </form>
    <hr />
    {% endif %}

{% for comment in comments %}
    <table>
        <tr>
            <th>{{ comment.user.username }}</th>
            <th>{{ comment.createdAt|date('Y-m-d') }}</th>
        </tr>
        <tr><td colspan="2">{{ comment.content }}</td></tr>
    </table>
{% endfor %}
{% endblock %}